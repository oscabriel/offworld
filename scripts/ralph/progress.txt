
## 2026-01-11 - PRD-1.1
- What was implemented: Replaced index.css with V1's complete theme system
- Files changed: apps/web/src/index.css
- **Learnings:**
  - V1 uses oklch color space for precise color definition with subtle warm tones in dark mode
  - The theme system includes custom shadow variables that follow a consistent scale
  - @font-face for "Not Jam Third Dimension" font needs the woff2 file in public folder
  - Scrollbar styling uses --border color for consistency with the theme
  - The `@custom-variant dark` syntax changed from `&:is(.dark *)` to `&:where(.dark, .dark *)` for better specificity
  - Pre-existing type errors in the codebase unrelated to CSS: react-resizable-panels types, unused React import, missing use-mobile hook
---

## 2026-01-11 - PRD-1.2
- What was implemented: Copied static assets from V1's public directory
- Files changed: apps/web/public/ (6 new files)
  - background-image.png
  - logotype.svg
  - logotype-mobile.svg
  - favicon.svg
  - opengraph-image.png
  - not-jam-third-dimension.woff2
- **Learnings:**
  - Simple asset copy task - straightforward cp command for binary/SVG/font files
  - Pre-existing test failures in @offworld/types package (SkillSchema tests) unrelated to this task
  - Pre-existing type errors persist (PRD-2.13 will fix the use-mobile hook issue)
---

## 2026-01-11 - PRD-1.3 & PRD-2.1
- What was implemented: Updated __root.tsx with V1's meta tags, preloads, and body structure. Also created background-image.tsx component as a dependency.
- Files changed:
  - apps/web/src/routes/__root.tsx
  - apps/web/src/components/layout/background-image.tsx (new)
- **Learnings:**
  - PRD-1.3 depends on PRD-2.1 (BackgroundImage component), so implemented both together
  - The V1 root uses preconnect for fonts.googleapis.com and fonts.gstatic.com before loading the stylesheet
  - Body structure changed from grid layout to simpler relative positioning with z-index layering
  - crossOrigin attribute on preconnect links needs to be set to "anonymous" for gstatic
  - Pre-existing type errors remain: react-resizable-panels types, unused React import in scroll-area, missing use-mobile hook
---

## 2026-01-11 - PRD-2.2 & PRD-2.4
- What was implemented: Created header.tsx with floating design and user-menu.tsx with base-ui dropdown
- Files changed:
  - apps/web/src/components/layout/header.tsx (new)
  - apps/web/src/components/layout/user-menu.tsx (new)
  - packages/backend/convex/auth.ts (added getCurrentUserSafe and isAdmin queries)
- **Learnings:**
  - PRD-2.2 depends on PRD-2.4 (UserMenu component), so implemented both together
  - The current offworld uses base-ui dropdown (not radix), so no `modal={false}` prop needed
  - V1 user-menu uses `@tanstack/react-query` with `convexQuery` instead of `useQuery` from `convex/react`
  - Routes like /sign-in and /admin don't exist yet (PRD-3.3), so using `window.location.href` for sign-in navigation temporarily
  - Removed admin link for now since /admin route doesn't exist - can be added when that route is created
  - The auth.ts needed `getCurrentUserSafe` and `isAdmin` queries ported from V1
  - Pre-existing type errors remain: react-resizable-panels, unused React import, missing use-mobile hook
---

## 2026-01-11 - PRD-2.3
- What was implemented: Created footer.tsx with navigation links matching V1 design
- Files changed:
  - apps/web/src/components/layout/footer.tsx (new)
- **Learnings:**
  - Route structure differs: V1 uses `/$owner/$repo` but current codebase uses `/repo/$owner/$repo`
  - V1 uses `/explore` but current codebase has `/browse` - adapted Explore link accordingly
  - /sign-in route doesn't exist yet (PRD-3.3), so using regular `<a href="/sign-in">` instead of TanStack `Link` to avoid type errors
  - GitHub link changed from internal Link to external `<a>` tag with direct GitHub URL since it's an external resource
  - Pre-existing type errors and test failures remain unchanged (not related to footer)
---

## 2026-01-11 - PRD-2.5 & PRD-2.8
- What was implemented: Created hero-section.tsx with animated logotype and repo-url-input.tsx for GitHub URL parsing
- Files changed:
  - apps/web/src/components/home/hero-section.tsx (new)
  - apps/web/src/components/home/repo-url-input.tsx (new)
- **Learnings:**
  - PRD-2.5 depends on PRD-2.8 (RepoUrlInput component), so implemented both together
  - Per PRD notes, removed validateRepo action - navigates directly to /repo/$owner/$repo and lets route handle "not found" state
  - The hero section uses a simple useState/useEffect pattern for fade-in animation with translate and opacity
  - RepoUrlInput supports both full GitHub URLs and short "owner/repo" format
  - Pre-existing type errors remain: react-resizable-panels, unused React import, missing use-mobile hook
---

## 2026-01-11 - PRD-2.6, PRD-2.7, PRD-2.9, PRD-2.10
- What was implemented: Created info-section.tsx, how-it-works.tsx, recently-indexed-carousel.tsx, and repo-card.tsx
- Files changed:
  - apps/web/src/components/home/info-section.tsx (new)
  - apps/web/src/components/home/how-it-works.tsx (new)
  - apps/web/src/components/home/recently-indexed-carousel.tsx (new)
  - apps/web/src/components/repo/repo-card.tsx (new)
- **Learnings:**
  - V1 uses repositories table with language/stars fields, but current codebase uses analyses table with fullName/pullCount
  - RepoCard adapted to use fullName instead of owner/name, and pullCount instead of stars
  - Carousel "View All" link changed from /explore to /browse to match current route structure
  - PRD-2.9 depends on PRD-2.10 (RepoCard component)
  - Pre-existing type errors remain unchanged
---

## 2026-01-11 - PRD-2.11, PRD-2.12, PRD-2.13
- What was implemented: Created content-card.tsx, markdown-content.tsx, and use-mobile.ts hook
- Files changed:
  - apps/web/src/components/repo/content-card.tsx (new)
  - apps/web/src/components/repo/markdown-content.tsx (new)
  - apps/web/src/hooks/use-mobile.ts (new)
- **Learnings:**
  - use-mobile hook now exists, fixing the pre-existing sidebar.tsx type error
  - markdown-content.tsx requires react-markdown package which isn't installed yet (PRD-4.1)
  - Used prose class with dark:prose-invert for markdown styling, referencing index.css prose styles
  - ContentCard title uses font-mono uppercase tracking-[0.3em] to match V1 heading styles
  - Pre-existing type errors reduced - only resizable.tsx and scroll-area.tsx remain
---

## 2026-01-11 - PRD-3.1, PRD-3.2, PRD-3.3, PRD-3.4
- What was implemented: Updated routes with V1 design - homepage, browse, sign-in, and repo detail pages
- Files changed:
  - apps/web/src/routes/index.tsx (updated)
  - apps/web/src/routes/browse.tsx (updated)
  - apps/web/src/routes/sign-in.tsx (new)
  - apps/web/src/routes/repo/$owner/$repo.tsx (updated)
- **Learnings:**
  - Homepage relies on __root.tsx for BackgroundImage, so no duplicate import needed
  - Browse page uses useSuspenseQuery with analyses.list for instant data
  - Sign-in uses authClient.signIn.social with GitHub provider and redirect search param
  - Repo detail page uses ContentCard and MarkdownContent for consistent V1 styling
---

## 2026-01-11 - PRD-4.1, PRD-5.1, PRD-5.2
- What was implemented: Installed packages, deleted starter kit remnants, updated __root.tsx header import
- Files changed:
  - apps/web/package.json (added embla-carousel-react, react-markdown)
  - Deleted: dashboard.tsx, todos.tsx, sign-in-form.tsx, sign-up-form.tsx, old header.tsx, old user-menu.tsx
  - apps/web/src/routes/__root.tsx (fixed header import)
  - apps/web/src/routeTree.gen.ts (auto-regenerated)
- **Learnings:**
  - embla-carousel-react 8.6.0 and react-markdown 10.1.0 installed successfully
  - Route tree auto-regenerates when dev server runs - dashboard/todos removed, sign-in added
  - __root.tsx was importing old header - updated to layout/header default export
  - bun run check passes, bun run build succeeds
  - Pre-existing type errors in resizable.tsx and scroll-area.tsx remain but don't block build
---

## 2026-01-11 - PRD-6.1
- What was implemented: Fixed type errors so application builds and type-checks successfully
- Files changed:
  - apps/web/src/components/ui/resizable.tsx (fixed react-resizable-panels imports)
  - apps/web/src/components/ui/scroll-area.tsx (removed unused React import)
- **Learnings:**
  - react-resizable-panels v4.3.3 changed its API: PanelGroup → Group, Panel (same), PanelResizeHandle → Separator
  - The old shadcn/ui component used `import * as ResizablePrimitive` namespace import, but the new library exports named components directly
  - Type definitions changed from using `React.ComponentProps<typeof X>` to exported types like `GroupProps`, `PanelProps`, `SeparatorProps`
  - All three commands now pass: bun run check, bun run typecheck, bun run build
---
